@model  MVC_PROJECT.Models.Trips
@{

    Layout = null;
}
@Html.Partial("_LoginPartial")
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rate Trip</title>
    <link rel="stylesheet" href="~/bootstrap 4/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/bootstrap 4/font-awesome-4.7.0/css/font-awesome.min.css">
    <link href="~/Content/Style-page.css" rel="stylesheet" />
    <link href="~/Content/style-info.css" rel="stylesheet" />
</head>

<body>

    <nav class="navbar navbar-expand-md  fixed-top">
        <a class="navbar-brand" href="#">LOGO</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">

            <form class="form-inline mt-2 mt-md-10 ml-auto">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <a href="@Url.Action("Search","Home")"><button class="btn btn-outline-info" type="button"><i class="fa fa-search"></i></button></a>
                    </div>
                    <input type="search" class="form-control" placeholder="Search For Travel" aria-label="" aria-describedby="basic-addon1">
                </div>
            </form>

            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="@Url.Action("Index","Home")"><i class="fa fa-home fa-lg"></i> Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle register" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        register <i class="fa fa-angle-down" aria-hidden="true"></i>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="@Url.Action("RegisterOrg","Account")">Customer</a>
                        <a class="dropdown-item" href="@Url.Action("RegisterCustom","Account")">Organizer</a>
                    </div>
                </li>
            </ul>

        </div>
    </nav>


    <section class="info-travel">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-5 col-sm-12 text-center card-info">
                    <div class="card">


                        <div class="rating">
                            <ul id="stars" class="list-unstyled">
                                <li class="star" data-value='' title="poor">
                                    <i class="fa fa-star fa-lg"></i>
                                </li>
                                <li class="star" data-value='2' title="bad">
                                    <i class="fa fa-star fa-lg"></i>
                                </li>
                                <li class="star" data-value='3' title="Good">
                                    <i class="fa fa-star fa-lg"></i>
                                </li>
                                <li class="star" data-value='4' title="Excellent">
                                    <i class="fa fa-star fa-lg"></i>
                                </li>
                                <li class="star" data-value='5' title="very Excellent">
                                    <i class="fa fa-star fa-lg"></i>
                                </li>
                                <li class="star" style="margin-left: -3px;  color: #777; font-size: 12px;">
                                    (@ViewBag.Rate)
                                </li>
                            </ul>
                        </div>
                        <form action="@Url.Action("RateTrip","Home")" id="RateForm" method="post">

                            <input type="hidden" id="Evaluation_Score" name="Evaluation_Score" value="" />
                            <input type="hidden" name="Id_Trips" value="@Model.ID_Trip" />
                            <div class="card-footer" style="padding: 0;margin-left: 10px;">
                                <button type="submit" class="card-link book-now">Rate Now</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-md-7 col-sm-12 border-info">

                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                            @{ int index = 0;}
                            @foreach (var item in Model.PhotoTrips.ToList())
                            {
                                if (index == 0)
                                {
                                    <li data-target="#carouselExampleIndicators" data-slide-to="@index" class="active"></li>
                                }
                                else
                                {
                                    <li data-target="#carouselExampleIndicators" data-slide-to="@index"></li>
                                }
                                index++;
                            }
                            @{ index = 0;}
                        </ol>
                        <div class="carousel-inner">
                            @foreach (var item in Model.PhotoTrips.ToList())
                            {
                                if (index == 0)
                                {
                                    <div class="carousel-item active">

                                        <img class="d-block w-100" src="@item.Photo_Trips" alt="">
                                    </div>
                                }
                                else
                                {
                                    <div class="carousel-item ">

                                        <img class="d-block w-100" src="@item.Photo_Trips" alt="">
                                    </div>
                                }
                                index++;
                            }

                            @*<div class="carousel-item">
                                    <img class="d-block w-100" src="../image/pexels-asad-photo-maldives-3601421.jpg" alt="Second slide">
                                </div>
                                <div class="carousel-item">
                                    <img class="d-block w-100" src="../image/pexels-jess-vide-4602279.jpg" alt="Third slide">
                                </div>*@
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>


                </div>
            </div>
        </div>



    </section>

    <div class="social">
        <ul class="list-unstyled">
            <li><i class="fa fa-facebook"></i></li>
            <li><i class="fa fa-whatsapp"></i></li>
            <li><i class="fa fa-instagram"></i></li>
            <li><i class="fa fa-telegram"></i></li>
        </ul>
    </div>


    <script src="~/bootstrap 4/js/jquery-3.5.1.js"></script>
    <script src="~/bootstrap 4/js/bootstrap.min.js"></script>
    <script src="~/bootstrap 4/js/popper.min.js"></script>
    <script>

        $(Document).ready(function () {
            // raiting star

            /* 1. Visualizing things on Hover - See next part for action on click */
            $('#stars li').on('mouseover', function () {
                var onStar = parseInt($(this).data('value'), 10); // The star currently mouse on

                // Now highlight all the stars that's not after the current hovered star
                $(this).parent().children('li.star').each(function (e) {
                    if (e < onStar) {
                        $(this).addClass('hover');
                    } else {
                        $(this).removeClass('hover');
                    }
                });

            }).on('mouseout', function () {
                $(this).parent().children('li.star').each(function (e) {
                    $(this).removeClass('hover');
                });
            });
            /* 2. Action to perform on click */
            $('#stars li').on('click', function () {
                var onStar = parseInt($(this).data('value'), 10); // The star currently selected
                var stars = $(this).parent().children('li.star');

                for (i = 0; i < stars.length; i++) {
                    $(stars[i]).removeClass('selected');
                }

                for (i = 0; i < onStar; i++) {
                    $(stars[i]).addClass('selected');
                }
                $("#Evaluation_Score").val(onStar);
                console.log(onStar);
            });
        })
        $("#RateForm").on("submit", function () {
            if ($("#Evaluation_Score").val() == "") {
                alert("Please Rate First");
                return false;
            }
        });
    </script>
</body>

</html>

